<div class="flex flex-col min-h-screen items-center justify-center">
  <div>
    <h1>{{ farm?.name }}</h1>
    <h3>{{ farm?.size }}</h3>
  </div>
  <div class="flex min-h-screen items-center justify-center w-full">
    <div class="w-4/5">
      <h1 class="mb-10 text-gray-800 text-xl py-2 px-3 font-bold">
        Plantações
      </h1>
      <button
        type="button"
        (click)="addCropForm()"
        [ngClass]="{
          'bg-green-500 hover:bg-green-700': !addCrop,
          'bg-red-500 hover:bg-red-700': addCrop
        }"
        class="text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
      >
        {{ addCrop ? "Cancelar" : "Adicionar" }}
      </button>
      <div class="flex w-full">
        <form
          [formGroup]="cropForm"
          #formDir="ngForm"
          (keyup.enter)="newCrop()"
          *ngIf="addCrop"
          class="bg-white px-8 pt-6 pb-8 mb-4"
        >
          <div class="flex justify-evenly">
            <label for="name" class="text-gray-700 text-sm font-bold mr-1"
              >Nome:</label
            >
            <input
              type="text"
              name="name"
              value=""
              formControlName="name"
              class="shadow appearance-none border rounded w-2/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-2"
            />

            <label for="area" class="text-gray-700 text-sm font-bold mr-1"
              >Area</label
            >
            <input
              type="number"
              name="area"
              value=""
              formControlName="area"
              class="shadow appearance-none border rounded w-1/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-5"
            />
          </div>
          <div>
            <label
              for="plantedDate"
              class="text-gray-700 text-sm font-bold mr-1"
              >Data de plantação</label
            >
            <input
              type="date"
              name="plantedDate"
              value=""
              formControlName="plantedDate"
              class="shadow appearance-none border rounded w-1/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-2"
            />

            <label
              for="harvestDate"
              class="text-gray-700 text-sm font-bold mr-1"
              >Data de colheita</label
            >
            <input
              type="date"
              name="harvestDate"
              value=""
              formControlName="harvestDate"
              class="shadow appearance-none border rounded w-1/4 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline mr-2"
            />
          </div>
        </form>
      </div>
      <span *ngIf="crops && crops.length === 0">Não existem plantações</span>
      <table
        *ngIf="crops && crops.length > 0"
        class="bg-white rounded px-8 pt-6 pb-8 mb-4 w-full text-center"
      >
        <thead>
          <tr class="bg-blue-gray-100 text-gray-700">
            <th class="py-3 px-4 text-left">nome</th>
            <th class="py-3 px-4 text-left">area</th>
            <th class="py-3 px-4 text-left">data de plantação</th>
            <th class="py-3 px-4 text-left">data de colheita</th>
            <th class="py-3 px-4 text-left">funções</th>
          </tr>
        </thead>
        <tbody *ngFor="let crop of crops">
          <tr class="border-b border-gray-100">
            <td class="py-3 px-4 text-left">{{ crop.name | titlecase }}</td>
            <td class="py-3 px-4 text-left">{{ crop.plantedArea }}</td>
            <td class="py-3 px-4 text-left">
              {{ crop.plantedDate | date: "dd/MM/yyyy" }}
            </td>
            <td class="py-3 px-4 text-left">
              {{ crop.harvestDate | date: "dd/MM/yyyy" }}
            </td>
            <td>update\delete</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
